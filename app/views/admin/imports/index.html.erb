<div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
  <div class="mx-auto max-w-4xl py-8">
    <div class="flex justify-between items-center">
      <div>
        <h2 class="text-2xl font-bold text-gray-900">Import Reports</h2>
        <p class="mt-2 text-gray-600">History of CSV imports for mentors, applicants, and matches.</p>
      </div>
      <%= link_to "New Import", new_admin_import_path,
          class: "inline-flex items-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500" %>
    </div>

    <% if @import_reports.any? %>
      <div class="mt-6 overflow-hidden bg-white shadow ring-1 ring-black ring-opacity-5 rounded-lg">
        <table class="min-w-full divide-y divide-gray-300">
          <thead class="bg-gray-50">
            <tr>
              <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900">Report ID</th>
              <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Type</th>
              <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Status</th>
              <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Imported</th>
              <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Failed</th>
              <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Date</th>
              <th scope="col" class="relative py-3.5 pl-3 pr-4"><span class="sr-only">View</span></th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-200 bg-white">
            <% @import_reports.each do |report| %>
              <tr>
                <td class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900">
                  <%= report.report_id %>
                </td>
                <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">
                  <span class="inline-flex items-center rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10">
                    <%= report.import_type.capitalize %>
                  </span>
                </td>
                <td class="whitespace-nowrap px-3 py-4 text-sm">
                  <% case report.status %>
                  <% when "completed" %>
                    <span class="inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20">Completed</span>
                  <% when "failed" %>
                    <span class="inline-flex items-center rounded-md bg-red-50 px-2 py-1 text-xs font-medium text-red-700 ring-1 ring-inset ring-red-600/10">Failed</span>
                  <% when "processing" %>
                    <span class="inline-flex items-center rounded-md bg-yellow-50 px-2 py-1 text-xs font-medium text-yellow-800 ring-1 ring-inset ring-yellow-600/20">Processing</span>
                  <% else %>
                    <span class="inline-flex items-center rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10"><%= report.status %></span>
                  <% end %>
                </td>
                <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"><%= report.imported_count %></td>
                <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"><%= report.failed_count %></td>
                <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"><%= report.created_at.strftime("%Y-%m-%d %H:%M") %></td>
                <td class="relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium">
                  <%= link_to "View", admin_import_path(report.report_id), class: "text-indigo-600 hover:text-indigo-900" %>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    <% else %>
      <div class="mt-8 text-center py-12 bg-gray-50 rounded-lg">
        <p class="text-gray-500">No import reports yet.</p>
        <p class="mt-2">
          <%= link_to "Create your first import", new_admin_import_path, class: "text-indigo-600 hover:text-indigo-900" %>
        </p>
      </div>
    <% end %>
  </div>
</div>
